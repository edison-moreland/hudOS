load("@rules_foreign_cc//foreign_cc:defs.bzl", "meson")

filegroup(
    name = "all_srcs",
    srcs = glob(["**"]),
)

meson(
    name = "libxkbcommon",
    lib_source = ":all_srcs",
    out_lib_dir = select({
        "@platforms//os:linux": "lib/x86_64-linux-gnu",
        "//conditions:default": "lib",
    }),
    options = {
        "enable-x11": "false",
        "enable-docs": "false",
        "enable-xkbregistry": "false"
    },
    visibility = ["//visibility:public"],
    deps = [
        "@wayland",
    ],
)